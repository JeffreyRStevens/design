# Dots (...)

## Motivation

The dots `...` are a powerful tool for R programming as they make it possible to pass along any number of additional arguments. They have three primary ues:

*   Passing on to another function. For example, `purrr::map()` uses
    `...` to pass additional arguments along to the function being mapped.
    In the following code, `na.rm` is an argument to `mean`, not to `map`:
  
    ```{r}
    library(purrr)
    mtcars %>% map_dbl(mean, na.rm = TRUE)
    ```
  
*   Creating data structures. For example, `list()` and `data.frame()` take 
    `...` to allow you to create new data structures with named inputs:
  
    ```{r}
    list(x = 1, y = 2:5)
    data.frame(x = 1, y = 2)
    ```
  
*   Allow S3 methods to take additional arguments. As a general rule, the methods
    of S3 generics must have the same argument as the parent. But what if you
    need an argument that only applies to some data types? For example, 
    the `print()` method for factors has an `max.levels` argument, which doesn't
    apply to other data types. This works because the `print()` generic has 
    `...`.

These three use cases are important, and `...` makes their expression convenient. But `...` comes with a major downside: if the function call is misspecified, `...` can easily swallow arguments with out warning, leading to functions that silently return incorrect values.

For example, take the following two calls that compute a mean and weighted mean:

```{r}
mean(1, 2, 3, 4)
weighted.mean(1:3, wt = c(0, 0, 1))
```

These two calls return silently incorrect results because `...` swallow up the mispecified function arguments. Compare the inputs and outputs when we correctly specify the calls:

```{r}
mean(c(1, 2, 3, 4))
weighted.mean(1:3, w = c(0, 0, 1))
```

