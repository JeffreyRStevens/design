# (PART) Function interface {-}

# Introduction  {#function-interface}

The interface (aka API) of a function describes its external interface, independent of its internal implementation. The interface of a function has the following main components:

* Name
* Inputs
* Output value
* Errors
* Side effects

## Inputs

### Default values

* Chapter \@ref(args-hidden): All inputs to a function should be explicit 
  arguments. Avoid functions that return different results for the same inputs
  in surprising ways.

* Chapter \@ref(args-data-details): Data arguments should come before details 
  arguments. Arguments without defaults should come before arguments with 
  defaults.

* Chapter \@ref(args-enum): If a details argument can take one of a fixed set 
  of possible strings, record in the default value and use `match.arg()`
  or `rlang::arg_match()` inside the function.
  
* Chapter \@ref(args-independence): Strive to make details arguments as
  orthogonal as possible. Avoid complex interdependencies.

* Chapter \@ref(args-required): If an argument doesn't have a default, it is
  required and should error when absent. A limited exception occurs when a
  function has two mutually exclusive arguments.

* Chapter \@ref(args-magical-defaults): Default values should return the same 
  answer when run interactively.
  
* Chapter \@ref(args-user-defaults): Use `getOption()` to allow the user to
  pick their own defaults.

* Chapter \@ref(args-explain): If a default value is particularly important,
  as has non-trivial calculation, let the user know what it is.

### Dots

* Chapter \@ref(dots-position): `...` should be placed between the data and 
  details arguments.

* Chapter \@ref(dots-data): don't use `...` just to save the user from typing 
  `c()` (unless the function is purely for data structure creation).

* Chapter \@ref(dots-prefix): carefully consider if all other arguments need a 
  `.` prefix in order to reduce the chance of spurious matches.

* Chapter \@ref(dots-inspect): when using `...` with S3 methods, or passing on 
  to other functions that silently ignore mismatches, check that all inputs in 
  `...` are evaluated.
